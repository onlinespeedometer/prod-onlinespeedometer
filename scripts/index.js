function geolocationPermission(){return"geolocation"in navigator?(watchId=null,document.getElementById("startButton").addEventListener("click",startWatching),document.getElementById("stopButton").addEventListener("click",stopWatching),!0):(showToast("Sorry, Geolocation is not available in this browser."),!1)}function startWatching(){if(1==geolocationPermission()){const t={enableHighAccuracy:!0};watchId||(watchId=navigator.geolocation.watchPosition(updateSpeed,handleGeoError,t)),showToast("Speedometer Started..")}else geolocationPermission()}function stopWatching(){watchId&&(navigator.geolocation.clearWatch(watchId),watchId=null,showToast("Speedometer Stopped.."))}function updateSpeed(t){const o=document.querySelector(".speed-digit");console.log(t);const e=Math.round(3.6*(t.coords.speed||0));o.textContent=e.toString()}function showToast(t){const o=document.getElementById("toast");o.textContent=t,o.style.opacity=1,setTimeout(()=>{o.style.opacity=0},3e3)}function handleGeoError(t){switch(t.code){case t.PERMISSION_DENIED:showToast("Please Allow Location permission.");break;case t.POSITION_UNAVAILABLE:showToast("Location information is unavailable.");break;case t.TIMEOUT:showToast("The request to get location timed out.");break;default:showToast("An unknown error occurred.")}}let watchId;geolocationPermission();